# 핀도리 (Findori) MVP Feature Spec

> 문서 버전: v2.0  
> 최종 수정일: 2026-02-26  
> 목적: MVP 기능 단위의 상세 동작, 상태, 예외, 완료 기준을 정의한다.

---

## 1. 범위

본 문서는 `/Users/chanheepark/dev/laboratory/findori/docs/mvp/prd.md`의 FR-01~FR-09를 기능 단위로 상세화한다.

---

## 2. 공통 규칙

- 사용자 노출 최소 단위는 `이슈 카드`로 통일한다.
- 일일 발행 단위는 `이슈 카드 스트림`으로 통일한다.
- 모바일/데스크톱 웹은 동일 데이터와 동일 이슈 순서를 기준으로 노출한다.
- 모든 이슈 카드는 최소 1개 이상의 출처 링크를 포함한다.
- 각 이슈 카드는 "사건 → 해석 → 시장 반응" 구조를 유지한다.
- 핵심 카드는 "변동 사실(수치/방향)"과 "변동 이유(요약)"를 함께 제공한다.
- 변동 이유 관련 핵심 주장/수치는 대응 출처 링크를 카드 내에서 추적 가능해야 한다.
- 투자 자문 오해 방지 문구는 피드/공유 랜딩의 주요 지점에 노출한다.

---

## 3. 기능 명세

### 3.1 일일 이슈 카드 스트림 발행 (FR-01, FR-02)

목표:

- 장 마감 후 당일 핵심 이슈를 이슈 카드 스트림 형태로 자동 발행

입력:

- 종목별 이슈 데이터
- 카드 텍스트/이미지/출처 리스트

출력:

- 피드 노출 가능한 이슈 카드 묶음

필수 동작:

- 각 이슈는 사건, 해석, 시장 반응 순서로 구성
- 이슈 첫 장 또는 핵심 장에 변동 사실(예: +2.1%, -1.3%)을 명시
- 다음 장 또는 동일 장에 변동 이유를 1~2문장으로 요약
- 이슈 카드 마지막 장에 출처 및 공유 액션 포함
- 이미지 누락 시 텍스트 중심 레이아웃으로 fallback

예외:

- 이미지 생성 실패: 기본 그래픽으로 대체
- 출처 누락: 해당 카드 묶음은 발행 보류 또는 출처 보강 후 발행
- 일부 종목 생성 실패: 성공 종목만 우선 발행하고 실패 종목 재시도

완료 기준:

- 당일 피드에 이슈 카드 묶음이 노출되고 구조/변동 사실/이유/출처가 함께 확인된다

### 3.2 피드 탐색 (FR-04)

목표:

- 스와이프 기반 흐름 소비로 이슈 완주를 유도

필수 동작:

- 좌우 스와이프: 이슈 카드 순차 이동
- 현재 카드 위치 표시(예: 1/N)
- 진행 상태 표시(예: progress bar) 제공

예외:

- 카드 1장인 경우 진행 표시 단순화
- 스와이프 충돌 발생 시 현재 제스처 축 잠금

완료 기준:

- 사용자 제스처로 이슈/카드 이동이 예측 가능하게 동작

### 3.3 대표 지수/환율 맥락 카드 (FR-03)

목표:

- 당일 시장 맥락을 빠르게 이해할 수 있도록 대표 지수/환율 변동 이유를 요약 제공

대상:

- 코스피
- 나스닥
- USD/KRW

필수 동작:

- 당일 피드에 대표 지수/환율 맥락 카드를 포함
- 각 항목에 변동 사실(방향/수치)과 변동 이유(요약)를 함께 노출
- 각 항목의 요약에는 최소 1개 이상의 출처 링크를 연결

예외:

- 특정 항목 데이터 수급 지연: 직전 영업일 데이터와 함께 "업데이트 지연" 상태를 노출
- 특정 항목 출처 검증 실패: 해당 항목은 비노출하고 운영 기록

완료 기준:

- 사용자가 당일 피드에서 대표 지수/환율의 변동과 이유를 출처와 함께 확인할 수 있다

### 3.4 날짜별 조회 및 카테고리 태그 (FR-08, FR-09)

목표:

- 오늘 흐름뿐 아니라 과거 날짜 비교와 맥락 분류를 지원

필수 동작:

- 날짜 선택 또는 이전 날짜 진입으로 과거 스트림 조회
- 각 이슈에 카테고리 태그를 1개 이상 노출
- 태그는 동일 명칭/표기 규칙으로 일관성 유지

예외:

- 해당 날짜 발행 없음: 빈 상태와 재탐색 액션 제공
- 태그 누락 데이터 수신: 기본 태그(예: 기타)로 fallback 후 운영 로그 기록

완료 기준:

- 사용자가 이전 날짜 스트림을 열람하고 이슈의 카테고리 정보를 확인할 수 있다

### 3.5 공유 링크 및 비로그인 열람 (FR-05)

목표:

- 로그인 없이도 콘텐츠 확산 가능하게 구성

필수 동작:

- 이슈 단위 permalink 생성
- 공유받은 사용자는 비로그인으로 카드 열람 가능
- 공유 미리보기(썸네일/제목/요약) 노출

예외:

- 만료/손상 링크: 재진입 경로 제공(홈으로 이동)
- 공유 패널 실패: 링크 복사 fallback

완료 기준:

- 외부 유입 사용자가 로그인 없이 동일 콘텐츠를 열람

### 3.6 출처 및 고지 (FR-06, FR-07)

목표:

- 정보 신뢰와 법무 리스크를 동시에 관리

필수 동작:

- 모든 카드에 최소 1개 이상의 출처 링크 제공
- 핵심 주장/수치에 대응 출처 연결
- 피드/공유 랜딩에 투자 판단 책임 고지 노출

완료 기준:

- 출처 추적과 고지 문구 확인이 사용자 흐름 내에서 가능

---

## 4. 상태 정의

### 4.1 로딩

- 카드 스켈레톤 노출
- 로딩 중 레이아웃 점프 최소화

### 4.2 빈 상태

- 당일 발행 없음
- 원인 안내 + 다음 행동 CTA 1개 제공(홈 재시도)

### 4.3 오류 상태

- 피드 로딩 실패
- 공유 실패
- 출처 링크 실패
- 오류 설명 + 재시도 액션 제공

---

## 5. 이벤트/로그 최소 수집 항목

- `feed_opened`
- `group_switched`
- `card_swiped`
- `share_clicked`
- `share_link_opened`
- `source_clicked`

필수 속성 예시:

- `entity_type(stock|index|fx)`, `entity_id`, `card_index`, `total_cards`, `platform`, `is_logged_in`
- `price_change_value`, `price_change_direction`, `reason_source_count`

---

## 6. QA 체크리스트

- 모바일/데스크톱 웹에서 동일 이슈가 동일 카드 순서로 노출되는가
- 각 이슈 카드가 사건→해석→시장 반응 구조를 유지하는가
- 핵심 카드에서 변동 사실과 변동 이유가 함께 노출되는가
- 코스피/나스닥/USD/KRW 맥락 카드가 당일 피드에서 출처와 함께 열람되는가
- 이전 날짜 조회 및 카테고리 태그 노출이 정상 동작하는가
- 공유 링크가 비로그인 상태에서 문제없이 열람되는가
- 카드 마지막 장의 출처/공유 동작이 정상인가
- 피드/공유 랜딩에서 투자 판단 책임 고지가 노출되는가
