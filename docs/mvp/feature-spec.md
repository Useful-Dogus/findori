# 핀도리 (Findori) MVP Feature Spec

> 문서 버전: v1.0  
> 최종 수정일: 2026-02-13  
> 목적: MVP 기능 단위의 상세 동작, 상태, 예외, 완료 기준을 정의한다.

---

## 1. 범위

본 문서는 `/Users/chanheepark/dev/laboratory/findori/docs/mvp/prd.md`의 FR-01~FR-10을 기능 단위로 상세화한다.

---

## 2. 공통 규칙

- 앱/웹은 동일 데이터와 동일 카드 순서를 기준으로 노출한다.
- 비로그인 사용자는 읽기/공유 링크 열람만 가능하고 개인화 기능은 제한한다.
- 모든 카드 뉴스는 최소 1개 이상의 출처 링크를 포함한다.
- 투자 자문 오해 방지 문구는 피드/공유 랜딩의 주요 지점에 노출한다.

---

## 3. 기능 명세

### 3.1 일일 카드 뉴스 발행 (FR-01, FR-02, FR-03, FR-04)

목표:
- 장 마감 후 당일 핵심 이슈를 카드 형태로 자동 발행

입력:
- 종목별 이슈 데이터
- 채널 분류 결과
- 카드 텍스트/이미지/출처 리스트

출력:
- 피드 노출 가능한 카드 뉴스 묶음(종목 단위)

필수 동작:
- 채널별 템플릿에 맞춰 카드 생성
- 카드 마지막 장에 출처/공유/팔로우 액션 포함
- 이미지 누락 시 텍스트 중심 레이아웃으로 fallback

예외:
- 이미지 생성 실패: 기본 그래픽으로 대체
- 출처 누락: 해당 카드 묶음은 발행 보류 또는 출처 보강 후 발행
- 일부 종목 생성 실패: 성공 종목만 우선 발행하고 실패 종목 재시도

완료 기준:
- 당일 피드에 카드 묶음이 노출되고 각 묶음의 마지막 카드에서 출처와 액션이 동작

### 3.2 피드 탐색 (세로/가로) (FR-02)

목표:
- 종목 간 탐색과 카드 내 맥락 소비를 분리해 제공

필수 동작:
- 세로 스크롤: 종목 카드 묶음 단위 이동
- 가로 스와이프: 동일 종목 카드 이동
- 현재 카드 위치 표시(예: 1/N)

예외:
- 카드 1장인 경우 진행 표시 단순화
- 스와이프 충돌 발생 시 현재 제스처 축 잠금

완료 기준:
- 사용자 제스처로 종목/카드 이동이 예측 가능하게 동작

### 3.3 종목 팔로우 및 우선 노출 (FR-05, FR-06)

목표:
- 관심 종목 중심의 개인화 피드 제공

필수 동작:
- 팔로우/언팔로우 토글
- 팔로우 종목을 피드 상단 우선 정렬
- 상태 변경 즉시 UI 반영

예외:
- 네트워크 실패 시 직전 상태 롤백 + 재시도 안내
- 비로그인 상태에서 팔로우 시 로그인/가입 유도

완료 기준:
- 팔로우 상태가 저장되고 다음 피드 진입에도 우선 정렬 유지

### 3.4 인앱 알림 (FR-07)

목표:
- 일일 진입과 중요 이슈 재진입 유도

필수 동작:
- 일일 알림: 장 마감 후 발송
- 중요 이슈 알림: 팔로우 종목 이슈 발생 시 발송
- 알림 탭 시 대응 피드 위치로 딥링크 이동

예외:
- 알림 권한 미허용: 앱 내 권한 유도 배너 노출
- 딥링크 실패: 당일 피드 상단으로 fallback

완료 기준:
- 알림 탭 후 의도한 피드 진입 경로가 유지

### 3.5 공유 링크 및 비로그인 열람 (FR-08, FR-09)

목표:
- 로그인 없이도 콘텐츠 확산 가능하게 구성

필수 동작:
- 종목 이슈 단위 permalink 생성
- 공유받은 사용자는 비로그인으로 카드 열람 가능
- 공유 미리보기(썸네일/제목/요약) 노출

예외:
- 만료/손상 링크: 재진입 경로 제공(홈으로 이동)
- 공유 패널 실패: 링크 복사 fallback

완료 기준:
- 외부 유입 사용자가 로그인 없이 동일 콘텐츠를 열람

### 3.6 앱/웹 정합성 (FR-10)

목표:
- 플랫폼 간 콘텐츠 해석 불일치 방지

필수 동작:
- 카드 순서, 텍스트, 출처, 채널 라벨 동일
- 플랫폼별 UI 차이는 허용하되 정보 구조 동일

완료 기준:
- 동일 링크를 앱/웹에서 열었을 때 콘텐츠 의미가 동일

---

## 4. 상태 정의

### 4.1 로딩
- 카드 스켈레톤 노출
- 로딩 중 레이아웃 점프 최소화

### 4.2 빈 상태
- 당일 발행 없음
- 팔로우 종목 없음
- 원인 안내 + 다음 행동 CTA 1개 제공

### 4.3 오류 상태
- 피드 로딩 실패
- 공유 실패
- 출처 링크 실패
- 오류 설명 + 재시도 액션 제공

---

## 5. 이벤트/로그 최소 수집 항목

- `feed_opened`
- `card_swiped`
- `stock_switched`
- `follow_toggled`
- `notification_opened`
- `share_clicked`
- `share_link_opened`
- `source_clicked`

필수 속성 예시:
- `stock_id`, `channel_type`, `card_index`, `total_cards`, `platform`, `is_logged_in`

---

## 6. QA 체크리스트

- 앱/웹에서 동일 이슈가 동일 카드 순서로 노출되는가
- 카드 마지막 장의 출처/공유/팔로우 동작이 정상인가
- 비로그인 사용자가 공유 링크를 문제없이 열람 가능한가
- 팔로우 후 우선 노출이 다음 세션에서도 유지되는가
- 알림 탭 시 의도한 카드 묶음으로 진입하는가

